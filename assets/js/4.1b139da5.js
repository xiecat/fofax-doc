(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{387:function(s,a,t){s.exports=t.p+"assets/img/windows-conf.44c4468b.png"},388:function(s,a,t){s.exports=t.p+"assets/img/windows-cmd-echo.b6338a5d.png"},389:function(s,a,t){s.exports=t.p+"assets/img/windows-ps-echo.39c18d86.png"},390:function(s,a,t){s.exports=t.p+"assets/img/windows-cmd.4d216071.png"},391:function(s,a,t){s.exports=t.p+"assets/img/windows-powershell.9dad3863.png"},392:function(s,a,t){s.exports=t.p+"assets/img/complex-ps.ad70695f.png"},393:function(s,a,t){s.exports=t.p+"assets/img/complex-ps-2.eec4f6f5.png"},394:function(s,a,t){s.exports=t.p+"assets/img/complex-qf.b36b4356.png"},414:function(s,a,t){"use strict";t.r(a);var e=t(52),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"faq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[s._v("#")]),s._v(" FAQ")]),s._v(" "),e("h2",{attrs:{id:"读取顺序和生成配置文件的目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#读取顺序和生成配置文件的目录"}},[s._v("#")]),s._v(" 读取顺序和生成配置文件的目录")]),s._v(" "),e("h3",{attrs:{id:"windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[s._v("#")]),s._v(" Windows")]),s._v(" "),e("p",[s._v("Windows 系统下，首次运行 "),e("code",[s._v("fofax.exe")]),s._v("，会在当前同级目录下生成配置文件 "),e("code",[s._v("fofax.yaml")]),s._v(" 和 Fx 规则配置文件 "),e("code",[s._v("fxrules")]),s._v(" 文件夹。同级目录下的配置文件优先读取。")]),s._v(" "),e("p",[s._v("如果同级目录下没有配置文件，则会去读取用户家目录下的 "),e("code",[s._v(".config/fofax/")]),s._v(" 目录中的配置文件：")]),s._v(" "),e("p",[e("img",{attrs:{src:t(387),alt:"Windows_conf"}})]),s._v(" "),e("h3",{attrs:{id:"linux-macos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-macos"}},[s._v("#")]),s._v(" Linux/macOS")]),s._v(" "),e("p",[s._v("类 Unix 系统，在首次运行 "),e("code",[s._v("fofax")]),s._v(" 的时候，会在位于 "),e("code",[s._v("~/.config/fofax/")]),s._v(" 目录生成配置文件。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("fofax\n\n      ____        ____       _  __\n     / __/____   / __/____ _"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("/ /\n    / /_ / __ "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" / /_ / __ `/"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   /\n   / __// /_/ // __// /_/ //   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n  /_/   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("____//_/   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("__,_//_/"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("_"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n                              \n                         fofax.xiecat.fun\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/23 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":21:28 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SUCC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" create config "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" /Users/user/.config/fofax/fofax.yaml. please modify and use\n")])])]),e("h2",{attrs:{id:"windows-系统的使用问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-系统的使用问题"}},[s._v("#")]),s._v(" Windows 系统的使用问题")]),s._v(" "),e("h3",{attrs:{id:"通过管道查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过管道查询"}},[s._v("#")]),s._v(" 通过管道查询")]),s._v(" "),e("p",[s._v("Windows上通过管道进行查询，这种方式是"),e("strong",[s._v("优先推荐")]),s._v("使用的，因为无需任何转义。")]),s._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('echo app="APACHE-Solr" | fofax.exe -fs 3\n')])])]),e("p",[e("img",{attrs:{src:t(388),alt:"Windows_cmd_echo"}})]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'app=\"APACHE-Solr\"'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" fofax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fs 5\n")])])]),e("p",[e("img",{attrs:{src:t(389),alt:"Windows_powershell_echo"}})]),s._v(" "),e("h3",{attrs:{id:"通过参数指定查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过参数指定查询"}},[s._v("#")]),s._v(" 通过参数指定查询")]),s._v(" "),e("p",[s._v("在 Windows 下使用一定要注意转义，Windows 终端中输入 "),e("code",[s._v('"')]),s._v(" 不加转义会消失，所以这种查询方式"),e("strong",[s._v("稍显麻烦")]),s._v("。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("fofax.exe -q "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'app=\"APACHE-Solr\"'")]),s._v(" \t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入的内容")]),s._v("\nFoFa input Query of: "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Grafana \t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#程序实际接收的内容")]),s._v("\n")])])]),e("p",[s._v("解决这个问题需要转义，可以添加 "),e("code",[s._v("-debug")]),s._v(" 开启详细调试模式。并且在 Windows 系统上，使用不同的终端软件，命令也是有所不同。")]),s._v(" "),e("p",[s._v("在CMD终端上，"),e("code",[s._v("-q")]),s._v(" 后面不可以添加单引号 "),e("code",[s._v("'")]),s._v("。")]),s._v(" "),e("div",{staticClass:"language-cmd extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('fofax.exe -q app=\\"APACHE-Solr\\" -fs 5\n')])])]),e("p",[e("img",{attrs:{src:t(390),alt:"Windows_cmd"}})]),s._v(" "),e("p",[s._v("而在 PowerShell 上，"),e("code",[s._v("-q")]),s._v(" 后面不仅需要添加单引号，而且对于双引号也要进行转义。")]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("fofax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("q "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'app=\\\"APACHE-Solr\\\"'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fs 5\n")])])]),e("p",[e("img",{attrs:{src:t(391),alt:"Windows_powershell"}})]),s._v(" "),e("h3",{attrs:{id:"复杂的查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复杂的查询"}},[s._v("#")]),s._v(" 复杂的查询")]),s._v(" "),e("p",[s._v("当查询语句中存在一些特殊符号（例如 "),e("code",[s._v("&")]),s._v(" 或者 "),e("code",[s._v("|")]),s._v("），此时在原生 CMD 终端中无法完成正常的查询。但在 PowerShell 中可以通过管道正常查询。")]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'app="APACHE-Solr" && country="CN"\'')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\fofax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fs 5\n")])])]),e("p",[e("img",{attrs:{src:t(392),alt:"complex_powershell"}})]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'app="APACHE-Solr" && (country="FR" || country="CN")\'')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\fofax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fs 5\n")])])]),e("p",[e("img",{attrs:{src:t(393),alt:"complex_powershell_2"}})]),s._v(" "),e("p",[s._v("除此之外，如果有更复杂的查询语句，可以考虑使用文本查询的方式。")]),s._v(" "),e("div",{staticClass:"language-powershell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\fofax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("qf "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fs 5\n")])])]),e("p",[e("img",{attrs:{src:t(394),alt:"complex_qf"}})]),s._v(" "),e("h4",{attrs:{id:"复杂案例-mr-hao-提供"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复杂案例-mr-hao-提供"}},[s._v("#")]),s._v(" 复杂案例- "),e("code",[s._v("@Mr.hao")]),s._v(" 提供")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("fofax -q "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fx='),e("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("fx-2021-1035"),e("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v(" && title="),e("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("中国"),e("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v(" -debug -fs "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" -fto -fe\n")])])]),e("h2",{attrs:{id:"提示语法错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提示语法错误"}},[s._v("#")]),s._v(" 提示语法错误")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("./fofax -q "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fx")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis-unauth"')]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":53:47 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Please "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" the -fe parameter to use the fofa extended syntax\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":53:47 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERRO"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" FoFa Response ErrMsg: 查询语法错误\n")])])]),e("p",[s._v("一般有两种犯错情况。第一种是使用 Fx 语句未加 "),e("code",[s._v("-fe")]),s._v(" 参数；第二种自己写的语句有问题，可以添加 "),e("code",[s._v("-open")]),s._v(" 参数到 FoFa 网站上看看。")]),s._v(" "),e("h2",{attrs:{id:"debug-信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debug-信息"}},[s._v("#")]),s._v(" Debug 信息")]),s._v(" "),e("h3",{attrs:{id:"查看-debug-信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看-debug-信息"}},[s._v("#")]),s._v(" 查看 Debug 信息")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("fofax -q "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'app=\"Grafana\"'")]),s._v(" -debug\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":49:04 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("DEBUG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" FoFa Size "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":49:04 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("DEBUG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" FoFa input Query of: "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Grafana   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 程序输入的")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":49:04 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("DEBUG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" https://fofa.so/api/v1/search/all?email"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("*****@*******"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("key")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("*******************"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("qbase64")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YXBwPUdyYWZhbmE"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("size")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("page")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fields")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("host,title,lastupdatetime\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":49:04 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("DEBUG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Resp Time: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("314.000000")]),s._v("/millis\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":49:04 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("DEBUG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Fofa Api Query: "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Grafana   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## fofa api返回的语句")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("/12/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":49:04 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SUCC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Fetch Data From FoFa: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),e("p",[s._v("如果想复制完整链接，可以加 "),e("code",[s._v("-sp")]),s._v(" 参数来显示 "),e("code",[s._v("email")]),s._v(" 和 "),e("code",[s._v("key")]),s._v("。")])]),s._v(" "),e("h3",{attrs:{id:"查看语句语法树"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看语句语法树"}},[s._v("#")]),s._v(" 查看语句语法树")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('./fofax -q app="Grafana" -fe -tree\n\nSource:  app=Grafana\nParse:\n2021/12/30 19:52:23 [INFO] Source: app=Grafana\n2021/12/30 19:52:23 [INFO] Parse: app=Grafana\n2021/12/30 19:52:23 [INFO] Tree: (start (query (fofaKeyword app) = (fofaValue Grafana)))\n')])])])])}),[],!1,null,null,null);a.default=r.exports}}]);